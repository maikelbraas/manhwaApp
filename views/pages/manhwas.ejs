<meta name="robots" content="noindex,nofollow" />
<div class="search-container">
  <input
    type="text"
    id="search"
    class="form-control bg-dark text-light mb-2"
    placeholder="Search"
    autocomplete="off" />
  <% if(parseInt(page.split('=', 2)[1]) > Math.ceil(manhwas.length/6) ||
  parseInt(page.split('=', 2)[1]) <= 0){ %>
  <script>
    location.href = "/manhwa?page=1";
  </script>
  <% } %> <% if(page == "/manhwa"){ %>
  <a href="/manhwa?page=1" class="text-info">Show less</a>
  <% }else{ %>
  <a href="/manhwa" class="text-info">Show all</a>
  <% } %>
  <div class="found">Manhwas found: <span class="found-number"></span></div>
</div>
<div class="container">
  <div
    class="loading-spinner"
    style="display: none; position: relative; z-index: 2">
    <span class="spinner-border" style="margin-top: -3rem">
      <span class="visually-hidden">Loading...</span></span
    >
  </div>
  <div class="row row-cols-1 row-cols-md-2 g-4" id="manhwas"></div>
</div>
<nav aria-label="Page navigation" class="pagination-manhwas">
  <input
    type="search"
    name="goto"
    id="goto"
    class="form-control rounded"
    placeholder="goto page"
    style="border: 1px solid black" />
  <ul class="pagination">
    <li class="page-item">
      <a
        class="page-link"
        href="/manhwa?page=<%- parseInt(page.split('=', 2)[1])-1 %>"
        >Prev</a
      >
      <a class="page-link" href="/manhwa?page=1">Start</a>
    </li>

    <% let start = parseInt(page.split('=', 2)[1]) > 3 ?
    parseInt(page.split('=', 2)[1])-1 : 1; for(let pages = start; pages <
    Math.ceil(manhwas.length / 6)+1; pages++){ %> <%if(pages > start+3 &&
    pages+2 < Math.ceil(manhwas.length/6)){ %> <% if(pages > start+4) continue;
    %>
    <li class="page-item page-link-number">
      <a class="page-link" href="/manhwa?page=<%- pages %>">...</a>
    </li>
    <% }else{ if(pages == parseInt(page.split('=', 2)[1])) {%>
    <li class="page-item page-link-number mobile-number">
      <p class="page-link" href="/manhwa?page=<%- pages %>"><%- pages %></p>
    </li>
    <% }else{ %>
    <li class="page-item page-link-number">
      <a class="page-link" href="/manhwa?page=<%- pages %>"><%- pages %></a>
    </li>
    <% }} %> <% } %>
    <li class="page-item">
      <a
        class="page-link"
        href="/manhwa?page=<%- parseInt(page.split('=', 2)[1])+1 %>"
        >Next</a
      >
      <a
        class="page-link"
        href="/manhwa?page=<%- Math.ceil(manhwas.length/6) %>"
        >End</a
      >
    </li>
  </ul>
</nav>

<template id="manhwa-card-template">
  <div class="col">
    <div class="card">
      <a href="/manhwa/" class="card-link text-decoration-none text-reset">
        <div class="row g-0 card-height-dis">
          <div class="col-md-4 h-100">
            <img
              data-src=""
              class="rounded-start manga-image lazyload"
              alt=""
              loading="lazy" />
          </div>
          <div class="col-md-8">
            <div class="card-body d-flex flex-column h-100">
              <h5 class="card-title text-decoration-underline"></h5>
              <p class="card-text">
                <small class="card-chapter">Chapters </small> |
                <small class="card-time">Update: </small>
                <br />
                <small class="card-status">Status: </small> |
                <small class="card-source">Source: </small>
              </p>
              <p class="card-text manhwa-row-content"></p>
              <div class="mb-4 genres-manhwa">
                Genres:
                <span class="badge genre-badge me-2"
                  ><i class="fas fa-fist-raised me-1"></i
                ></span>
              </div>
            </div>
          </div></div
      ></a>
    </div>
  </div>
</template>

<script src="/js/main.js" type="module"></script>
